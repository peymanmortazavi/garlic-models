fields:
    UserId:
        type: integer
        constraints: [{type: range, min: 1, max: 1000000}]

    UserReference:
        constraints:
            - type: any
              items: [UserId, User]
              message: Either a user id or a proper user object is expected.
              name: user_reference

    UserList:
        constraints:
            - type: list
              items:
                  - type: any
                    items: [UserId, User]
              message: List of user ids or objects expected.

    GeoLocation:
        constraints:
            - type: tuple
              items: [string, double, double]
              message: Expected [name, lat, long]

    StateField:
        constraints:
            - type: string
            - type: range
              min: 2
              max: 2

    CityTuple:
        constraints:
            - type: tuple
              items: [string, StateField]

    UnixCommand:
        constraints:
            - type: tuple
              items: [string]
              strict: false

    MetaField:
        constraints:
            - type: map
              key: string
              value: string

    StringToAny:
        constraints:
            - type: map
              key:
                  type: regex
                  pattern: field\d*

    StringToBool:
        constraints:
            - type: map
              key: string
              value: bool

models:
    User:
        fields:
            id: UserId
            username: string
            first_name: string
            last_name: string

    AnyTest:
        fields:
            user: UserReference

    ListTest:
        fields:
            users: UserList

    TupleTest:
        fields:
            city: CityTuple
            location: GeoLocation
            command: UnixCommand

    MapTest:
        fields:
            _meta: MetaField
            string_to_any: StringToAny
            string_to_bool: StringToBool
